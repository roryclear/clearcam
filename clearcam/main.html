<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
        }
        #urlInput {
            width: 300px;
            height: 30px;
            font-size: 16px;
        }
        #loadButton {
            height: 36px;
            font-size: 16px;
        }
        .iframe-container {
            position: relative;
            margin-top: 20px;
            width: 80%;
            max-width: 640px;
            margin-left: auto;
            margin-right: auto;
            border: 1px solid #ddd;
            overflow: hidden;
        }
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .deleteButton {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 16px;
            background-color: red;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <input type="text" id="urlInput" placeholder="Enter URL here">
    <button id="loadButton" onclick="loadPage()">Enter</button>

    <div id="iframeContainer"></div>

    <script>
        function loadPage() {
            var url = document.getElementById('urlInput').value;
            if (url) {
                var iframeContainer = document.createElement('div');
                iframeContainer.className = 'iframe-container';

                var iframe = document.createElement('iframe');
                iframe.src = url;
                iframe.onload = function() {
                    adjustIframeSize(iframe);
                };

                var deleteButton = document.createElement('button');
                deleteButton.className = 'deleteButton';
                deleteButton.innerText = 'Delete';
                deleteButton.onclick = function() {
                    iframeContainer.remove();
                };

                iframeContainer.appendChild(iframe);
                iframeContainer.appendChild(deleteButton);
                document.getElementById('iframeContainer').appendChild(iframeContainer);

                // Observe the content of the iframe for changes
                var resizeObserver = new ResizeObserver(function() {
                    adjustIframeSize(iframe);
                });
                resizeObserver.observe(iframe.contentWindow.document.body);
            }
        }

        function adjustIframeSize(iframe) {
            var doc = iframe.contentDocument || iframe.contentWindow.document;
            var videoElement = doc.querySelector("video"); // Assuming there's a video element

            if (videoElement) {
                videoElement.onloadedmetadata = function() {
                    const videoWidth = videoElement.videoWidth;
                    const videoHeight = videoElement.videoHeight;
                    const isPortrait = videoHeight > videoWidth;

                    const iframeContainer = iframe.parentNode;

                    if (isPortrait) {
                        const aspectRatio = 9 / 16;
                        const containerWidth = Math.min(480, window.innerWidth * 0.8);
                        const containerHeight = containerWidth / aspectRatio;
                        
                        iframeContainer.style.width = containerWidth + 'px';
                        iframeContainer.style.height = containerHeight + 'px';
                    } else {
                        const aspectRatio = 16 / 9;
                        const containerWidth = Math.min(640, window.innerWidth * 0.8);
                        const containerHeight = containerWidth / aspectRatio;
                        
                        iframeContainer.style.width = containerWidth + 'px';
                        iframeContainer.style.height = containerHeight + 'px';
                    }

                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                };
            }
        }
    </script>
</body>
</html>

